!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i);window.eBus=o["default"],t["default"]=o["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){e.execute.apply(e,[t,n])}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2),l=(r(u),n(3)),s=r(l),f=n(4),c=r(f),d=n(5),v=r(d),h=function(){function e(t){i(this,e),this._eventListenerMap=new Map,this._eventTriggeredMap=new Map}return a(e,[{key:"addListener",value:function(e){var t=[];e instanceof Array||(e=[e]);var n=!0,r=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var l=a.value;l.name=l.name||s["default"].guid();var f=l.event instanceof Array?l.event:[l.event],d=new c["default"](l.name,l.routine,l.context,l.options),h=l.options&&l.options.rememberPast||!1;t.push(l.name);var p=!0,y=!1,_=void 0;try{for(var g,m=f[Symbol.iterator]();!(p=(g=m.next()).done);p=!0){var b=g.value;if(this._eventListenerMap.has(b)?this._eventListenerMap.get(b).push(d):this._eventListenerMap.set(b,[d]),v["default"].log(l.name,"listener is attached with",b),h){var x=!!this._eventTriggeredMap.has(b),w=x?this._eventTriggeredMap.get(b):void 0;x?o(d,w.target,w.payload):void 0}}}catch(M){y=!0,_=M}finally{try{!p&&m["return"]&&m["return"]()}finally{if(y)throw _}}}}catch(M){r=!0,i=M}finally{try{!n&&u["return"]&&u["return"]()}finally{if(r)throw i}}return t}},{key:"removeListener",value:function(e,t){var n=this._eventListenerMap.get(t)||[],r=[],i=!0,o=!1,a=void 0;try{for(var u,l=n[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var s=u.value;s.listenerUid!=e&&r.push(s)}}catch(f){o=!0,a=f}finally{try{!i&&l["return"]&&l["return"]()}finally{if(o)throw a}}this._eventListenerMap.set(t,r)}},{key:"trigger",value:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=this._eventListenerMap.get(e)||[];this._eventTriggeredMap.set(e,{executed:!0,payload:r,target:t});var u=!0,l=!1,s=void 0;try{for(var f,c=a[Symbol.iterator]();!(u=(f=c.next()).done);u=!0){var d=f.value;o(d,t,r)}}catch(v){l=!0,s=v}finally{try{!u&&c["return"]&&c["return"]()}finally{if(l)throw s}}}},{key:"getEvents",value:function(){var e=[],t=this._eventListenerMap.keys(),n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value,l=this._eventListenerMap.get(u),s={event:u,listener:[]},f=!0,c=!1,d=void 0;try{for(var v,h=l[Symbol.iterator]();!(f=(v=h.next()).done);f=!0){var p=v.value;s.listener.push(p.listenerUid)}}catch(y){c=!0,d=y}finally{try{!f&&h["return"]&&h["return"]()}finally{if(c)throw d}}e.push(s)}}catch(y){r=!0,i=y}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}return e}}]),e}();t["default"]=h},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function i(){n(this,i)};t["default"]=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={getCurrentTime:function(){return(new Date).getTime()},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(5),u=r(a),l=n(3),s=r(l),f=function(){function e(t,n,r){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];i(this,e),this.constructor.validateConstructorParams(arguments)&&(this._listenerUid=t,this._listenerSideEffectRoutine=n,this._context=r,this._executionCount=0,this._executeOnce=!!o.once,this._creationTimestamp=s["default"].getCurrentTime(),this._target=o.target||void 0,this._lastExecutionTimestamp=void 0,this._throttleTimestamp=o.throttle||0)}return o(e,null,[{key:"validateConstructorParams",value:function(e){var t=e[0],n=(e[1],!0);return t||(u["default"].error("listenerUid is not found"),n=!1),n}}]),o(e,[{key:"execute",value:function(e,t){if(u["default"].log(this._listenerUid+" listener execution begins"),this._executeOnce&&this._executionCount>0)return void u["default"].log(this._listenerUid,"listener execution skipped.. due to once flag");var n=s["default"].getCurrentTime(),r=n-this._lastExecutionTimestamp;return this._lastExecutionTimestamp&&r<=this._throttleTimestamp?void u["default"].log(this._listenerUid,"listener execution skipped.. due to enforced throttle"):void 0!=this._target&&e!=this._target?void u["default"].log(this._listenerUid," listener execution skipped due to unmatching target"):(this._lastExecutionTimestamp=s["default"].getCurrentTime(),this._listenerSideEffectRoutine.apply(this._context,t),void(this._executionCount+=1))}},{key:"listenerUid",get:function(){return this._listenerUid}},{key:"listenerSideEffectRoutine",get:function(){return this._listenerSideEffectRoutine}}]),e}();t["default"]=f},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){n(this,e)}return r(e,[{key:"error",value:function(e){throw new Error(e)}},{key:"info",value:function(e){console.info(e)}},{key:"log",value:function(){console.log.apply(console.log,arguments)}}]),e}();t["default"]=function(){return new i}()}]);
//# sourceMappingURL=eBus.min.js.map