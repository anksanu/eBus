!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=n(6),o=(r(i),n(7)),u=(r(o),n(8));r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){e.execute.apply(e,[t,n])}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),s=(r(a),n(3)),l=r(s),c=n(4),f=r(c),v=n(5),d=r(v),h=function(){function e(t){i(this,e),this._eventListenerMap=new Map,this._eventTriggeredMap=new Map}return u(e,[{key:"addListener",value:function(e){var t=[];e instanceof Array||(e=[e]);var n=!0,r=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done);n=!0){var s=u.value;s.name=s.name||l["default"].guid();var c=s.event instanceof Array?s.event:[s.event],v=new f["default"](s.name,s.routine,s.context,s.options),h=s.options&&s.options.rememberPast||!1;t.push(s.name);var _=!0,g=!1,p=void 0;try{for(var y,m=c[Symbol.iterator]();!(_=(y=m.next()).done);_=!0){var b=y.value;if(this._eventListenerMap.has(b)?this._eventListenerMap.get(b).push(v):this._eventListenerMap.set(b,[v]),d["default"].log(s.name,"listener is attached with",b),h){var E=!!this._eventTriggeredMap.has(b),T=E?this._eventTriggeredMap.get(b):void 0;E?o(v,T.target,T.payload):void 0}}}catch(x){g=!0,p=x}finally{try{!_&&m["return"]&&m["return"]()}finally{if(g)throw p}}}}catch(x){r=!0,i=x}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}return t}},{key:"removeListener",value:function(e,t,n){var r=this._eventListenerMap.get(t)||[],i=[],o=[],u=!0,a=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(u=(l=c.next()).done);u=!0){var f=l.value;f.listenerUid!=e?o.push(f):i.push(f)}}catch(v){a=!0,s=v}finally{try{!u&&c["return"]&&c["return"]()}finally{if(a)throw s}}return this._eventListenerMap.set(t,o),i=i.map(function(e){return e.listenerUid}),i.length&&n?n(i):void 0,i}},{key:"trigger",value:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var u=this._eventListenerMap.get(e)||[];this._eventTriggeredMap.set(e,{executed:!0,payload:r,target:t});var a=!0,s=!1,l=void 0;try{for(var c,f=u[Symbol.iterator]();!(a=(c=f.next()).done);a=!0){var v=c.value;o(v,t,r)}}catch(d){s=!0,l=d}finally{try{!a&&f["return"]&&f["return"]()}finally{if(s)throw l}}}},{key:"getEvents",value:function(){var e=[],t=this._eventListenerMap.keys(),n=!0,r=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(n=(o=u.next()).done);n=!0){var a=o.value,s=this._eventListenerMap.get(a),l={event:a,listener:[]},c=!0,f=!1,v=void 0;try{for(var d,h=s[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var _=d.value;l.listener.push(_.listenerUid)}}catch(g){f=!0,v=g}finally{try{!c&&h["return"]&&h["return"]()}finally{if(f)throw v}}e.push(l)}}catch(g){r=!0,i=g}finally{try{!n&&u["return"]&&u["return"]()}finally{if(r)throw i}}return e}}]),e}();t["default"]=h},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function i(){n(this,i)};t["default"]=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={getCurrentTime:function(){return(new Date).getTime()},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(5),a=r(u),s=n(3),l=r(s),c=function(){function e(t,n,r){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];i(this,e),this.constructor.validateConstructorParams(arguments)&&(this._listenerUid=t,this._listenerSideEffectRoutine=n,this._context=r,this._executionCount=0,this._executeOnce=!!o.once,this._creationTimestamp=l["default"].getCurrentTime(),this._target=o.target||void 0,this._lastExecutionTimestamp=void 0,this._throttleTimestamp=o.throttle||0)}return o(e,null,[{key:"validateConstructorParams",value:function(e){var t=e[0],n=(e[1],!0);return t||(a["default"].error("listenerUid is not found"),n=!1),n}}]),o(e,[{key:"execute",value:function(e,t){if(a["default"].log(this._listenerUid+" listener execution begins"),this._executeOnce&&this._executionCount>0)return void a["default"].log(this._listenerUid,"listener execution skipped.. due to once flag");var n=l["default"].getCurrentTime(),r=n-this._lastExecutionTimestamp;return this._lastExecutionTimestamp&&r<=this._throttleTimestamp?void a["default"].log(this._listenerUid,"listener execution skipped.. due to enforced throttle"):void 0!=this._target&&e!=this._target?void a["default"].log(this._listenerUid," listener execution skipped due to unmatching target"):(this._lastExecutionTimestamp=l["default"].getCurrentTime(),this._listenerSideEffectRoutine.apply(this._context,t),void(this._executionCount+=1))}},{key:"listenerUid",get:function(){return this._listenerUid}},{key:"listenerSideEffectRoutine",get:function(){return this._listenerSideEffectRoutine}}]),e}();t["default"]=c},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){n(this,e)}return r(e,[{key:"error",value:function(e){throw new Error(e)}},{key:"info",value:function(e){console.info(e)}},{key:"log",value:function(){console.log.apply(console.log,arguments)}}]),e}();t["default"]=function(){return new i}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=n(1),o=r(i),u=new o["default"];u.addListener([{name:void 0,event:["First_Event","Second_Event"],routine:function(e){console.log("Listener 1"),e.value+="1"},options:{target:"First_Publisher",once:!1}},{name:void 0,event:"First_Event",routine:function(e){console.log("Listener 2"),e.value+="2"},options:{target:"Second_Publisher"}},{name:"3",event:"Second_Event",routine:function(e){console.log("Listener 3"),e.value+="3"},options:{target:"Second_Publisher"}},{name:"2",event:["First_Event","Second_Event"],routine:function(e){console.log("Listener 4",e.name),e.value+="4"},options:{}}]);var a=[{query:["First_Event","First_Publisher",{name:"eBus",value:""}],result:"14"},{query:["First_Event","Second_Publisher",{name:"eBus",value:""}],result:"24"},{query:["Second_Event","First_Publisher",{name:"eBus",value:""}],result:"14"},{query:["Second_Event","Second_Publisher",{name:"eBus",value:""}],result:"34"},{query:["First_Event",void 0,{name:"eBus",value:""}],result:"4"},{query:["Second_Event",void 0,{name:"eBus",value:""}],result:"4"}];console.group("Listener Target Suite");var s=0,l=!0,c=!1,f=void 0;try{for(var v,d=a[Symbol.iterator]();!(l=(v=d.next()).done);l=!0){var h=v.value,_=h.query[2],g=h.result;_.value="",console.group("Test",++s),u.trigger.apply(u,h.query),_.value===g?console.info("Test Passed"):console.error("Test Failed"),console.groupEnd()}}catch(p){c=!0,f=p}finally{try{!l&&d["return"]&&d["return"]()}finally{if(c)throw f}}console.groupEnd()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=n(1),o=r(i),u=new o["default"];console.group("Listener Past Events Suite");var a="",s="11";u.trigger("First_Event","First_Publisher",{name:"eBus",value:1}),u.trigger("Second_Event","First_Publisher",{name:"eBus",value:1}),u.addListener([{name:"1",event:["First_Event","Second_Event"],routine:function(e){console.log("Raised Condition"),a+="1"},options:{target:"First_Publisher",once:!1,rememberPast:!0}}]),u.removeListener("1","First_Event",function(e){console.log(e),console.info("The Listener is removed")}),u.trigger("First_Event","First_Publisher",{}),setTimeout(function(){a==s?console.info("Test Passed"):console.error("Test Failed"),console.groupEnd()},2e3)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=n(1),o=r(i),u=new o["default"];console.group("Listener Throttle Events Suite");var a="",s="11";u.addListener([{name:"1",event:["First_Event","Second_Event"],routine:function(e){console.log("Listener Executed"),a+=e.value},options:{throttle:5e3}}]),u.trigger("First_Event","First_Publisher",{name:"eBus",value:1}),u.trigger("Second_Event","First_Publisher",{name:"eBus",value:1}),setTimeout(function(){u.trigger("First_Event","First_Publisher",{name:"eBus",value:1})},3e3),setTimeout(function(){u.trigger("First_Event","First_Publisher",{name:"eBus",value:1}),a==s?console.info("Test Suite Passed"):console.error("Test Suite Failed"),console.groupEnd()},6e3)}]);
//# sourceMappingURL=test.min.js.map